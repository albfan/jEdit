<?xml version="1.0"?>
<!DOCTYPE MODE SYSTEM "xmode.dtd">

<!-- Mode file for Jamon templates. See http://www.jamon.org -->
<MODE>
	<PROPS>
		<PROPERTY NAME="commentStart" VALUE="&lt;%--" />
		<PROPERTY NAME="commentEnd" VALUE="--%&gt;" />
	</PROPS>
	<RULES IGNORE_CASE="FALSE" DEFAULT="LITERAL2">
		<SPAN_REGEXP HASH_CHAR="&lt;" MATCH_TYPE="OPERATOR" DELEGATE="java::MAIN">
			<BEGIN>&lt;%(args|class|import|java|xargs)&gt;</BEGIN>
			<END>&lt;/%$1&gt;</END>
		</SPAN_REGEXP>
		<SPAN_REGEXP HASH_CHAR="&lt;" MATCH_TYPE="OPERATOR" DELEGATE="java::MAIN">
			<BEGIN>&lt;%(?:if|for|java)</BEGIN>
			<END>%&gt;</END>
		</SPAN_REGEXP>
		<SEQ_REGEXP HASH_CHAR="&lt;" TYPE="OPERATOR">&lt;/%(?:if|for)&gt;</SEQ_REGEXP>
		<SEQ TYPE="OPERATOR">&lt;%else&gt;</SEQ>

		<SPAN_REGEXP HASH_CHAR="&lt;" MATCH_TYPE="OPERATOR" TYPE="KEYWORD2">
			<BEGIN>&lt;%(?:abstract|def|doc|escape|extends|frag|method|override)</BEGIN>
			<END>&gt;</END>
		</SPAN_REGEXP>
		<SPAN_REGEXP HASH_CHAR="&lt;" MATCH_TYPE="OPERATOR">
			<BEGIN>&lt;/%(?:def|doc|frag|method|override)</BEGIN>
			<END>&gt;</END>
		</SPAN_REGEXP>

		<SPAN TYPE="OPERATOR" DELEGATE="java::MAIN">
			<BEGIN>&lt;%</BEGIN>
			<END>%&gt;</END>
		</SPAN>

		<SPAN_REGEXP HASH_CHAR="&lt;" MATCH_TYPE="OPERATOR" DELEGATE="java::MAIN">
			<BEGIN>&lt;&amp;\|?</BEGIN>
			<END>&amp;&gt;</END>
		</SPAN_REGEXP>
		<SEQ TYPE="OPERATOR">&lt;/&amp;&gt;</SEQ>

		<!-- JavaScript -->
		<SPAN_REGEXP TYPE="MARKUP" HASH_CHAR="&lt;" DELEGATE="JAVASCRIPT">
			<BEGIN>&lt;(?i)(script)</BEGIN>
			<END>&lt;/$1&gt;</END>
		</SPAN_REGEXP>

		<!-- Override HTML tag parsing to special-case attribute values. -->
		<SPAN TYPE="MARKUP" DELEGATE="TAGS">
			<BEGIN>&lt;</BEGIN>
			<END>&gt;</END>
		</SPAN>

		<IMPORT DELEGATE="html::MAIN"/>
	</RULES>

	<RULES SET="JAVASCRIPT" DEFAULT="LITERAL1">
		<SPAN TYPE="OPERATOR" DELEGATE="java::MAIN">
			<BEGIN>&lt;%</BEGIN>
			<END>%&gt;</END>
		</SPAN>
		<SPAN TYPE="LITERAL1" NO_LINE_BREAK="TRUE" ESCAPE="\" DELEGATE="LITERAL">
			<BEGIN>"</BEGIN>
			<END>"</END>
		</SPAN>
		<IMPORT DELEGATE="javascript::MAIN" />
	</RULES>

	<RULES SET="TAGS" DEFAULT="LITERAL1">
		<SPAN TYPE="LITERAL1" DELEGATE="LITERAL">
			<BEGIN>"</BEGIN>
			<END>"</END>
		</SPAN>
		<IMPORT DELEGATE="html::TAGS" />
	</RULES>

	<RULES SET="LITERAL" DEFAULT="LITERAL1">
		<SPAN TYPE="OPERATOR" DELEGATE="java::MAIN">
			<BEGIN>&lt;%</BEGIN>
			<END>%&gt;</END>
		</SPAN>
	</RULES>

</MODE>

