<!-- jEdit 3.2 Macro Guide, (C) 2001 John Gellene                -->
<!-- Thu Jun 21 23:49:14 EDT 2001 @200 /Internet Time/           -->
<!--                                                             -->
<!-- jEdit buffer-local properties:                              -->
<!-- :indentSize=1:noTabs=yes:maxLineLen=72:tabSize=2:           -->
<!--                                                             -->
<!-- This file contains the jEdit API Quick Reference            -->


<chapter id="api-macro"><title>General jEdit Classes</title>

<sect1 id="class-jedit"><title>Class jEdit</title>

<para>
    This is the main class of the application. All the methods in this
    class are static methods, so
    they are called with the following syntax, from both macros and
    plugins:
</para>
<programlisting>jEdit.<replaceable>method</replaceable>(<replaceable>parameters</replaceable>)
</programlisting>

<para>
    Here are a few key methods:
</para>

<itemizedlist>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>Buffer</type>
 <methodname>openFile</methodname>
 <methodparam><type>View</type><parameter>view</parameter></methodparam>
 <methodparam><type>String</type><parameter>path</parameter></methodparam>
</methodsynopsis>
<para>
    Opens the file named <varname>path</varname> in the given
    <classname>View</classname>. To open a file in the current view, use the
    predefined variable <varname>view</varname> for the first parameter.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>Buffer</type>
 <methodname>newFile</methodname>
 <methodparam><type>View</type><parameter>view</parameter></methodparam>
</methodsynopsis>
<para>
    This creates a new buffer captioned
    <guimenu>Untitled-&lt;n&gt;</guimenu>in the given
    <classname>View</classname>.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>boolean</type>
 <methodname>closeBuffer</methodname>
 <methodparam><type>View</type><parameter>view</parameter></methodparam>
 <methodparam><type>Buffer</type><parameter>buffer</parameter></methodparam>
</methodsynopsis>
<para>
    Closes the buffer named <varname>buffer</varname> in the view named
    <varname>view</varname>. The user will be prompted to save the buffer
    before closing if there are unsaved changes.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><void/>
 <methodname>saveAllBuffers</methodname>
 <methodparam><type>View</type><parameter>view</parameter></methodparam>
 <methodparam><type>boolean</type><parameter>confirm</parameter></methodparam>
</methodsynopsis>
<para>
    This saves all open buffers with unsaved changes in the given
    <classname>View</classname>. The parameter <parameter>confirm</parameter>
    determines whether jEdit initially asks for confirmation of the save
    operation.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>boolean</type>
 <methodname>closeAllBuffers</methodname>
 <methodparam><type>View</type><parameter>view</parameter></methodparam>
</methodsynopsis>
<para>
    Closes all buffers in the given <classname>View</classname>. A dialog
    window will be displayed for any buffers with unsaved changes to
    obtain user instructions.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><void/>
 <methodname>exit</methodname>
 <methodparam><type>View</type><parameter>view</parameter></methodparam>
 <methodparam><type>boolean</type><parameter>reallyExit</parameter></methodparam>
</methodsynopsis>
<para>
    This method causes jEdit to exit. If <parameter>reallyExit</parameter> is
    false and jEdit is running in background mode, the application will simply
    close all  buffers and views and remain in background mode.
</para>
</listitem>


<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>String</type>
 <methodname>getProperty</methodname>
 <methodparam><type>String</type><parameter>name</parameter></methodparam>
</methodsynopsis>
<para>
    Returns the value of the property named by <varname>name</varname>, or
    <constant>null</constant> if the property is undefined.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>boolean</type>
 <methodname>getBooleanProperty</methodname>
 <methodparam><type>String</type><parameter>name</parameter></methodparam>
</methodsynopsis>
<para>
    Returns a <classname>boolean</classname> value of <constant>true</constant> or
    <constant>false</constant> for the property named by <varname>name</varname> by
    examining the contents of the property; returns
    <constant>false</constant> if the property cannot be found.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><void/>
 <methodname>setProperty</methodname>
 <methodparam><type>String</type><parameter>name</parameter></methodparam>
 <methodparam><type>String</type><parameter>property</parameter></methodparam>
</methodsynopsis>
<para>
    This method sets the property named by <varname>name</varname> with the value
    <varname>property</varname>. An existing property is overwritten.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><void/>
 <methodname>setBooleanProperty</methodname>
 <methodparam><type>String</type><parameter>name</parameter></methodparam>
 <methodparam><type>boolean</type><parameter>value</parameter></methodparam>
</methodsynopsis>
<para>
    This method sets the property named by <varname>name</varname> to
    <varname>value</varname>. The boolean value is stored internally as the
    string <quote>true</quote> or <quote>false</quote>.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><void/>
 <methodname>setTemporaryProperty</methodname>
 <methodparam><type>String</type><parameter>name</parameter></methodparam>
 <methodparam><type>String</type><parameter>property</parameter></methodparam>
</methodsynopsis>
<para>
    This sets a property that will not be stored during the current
    jEdit session only. This method is useful for storing a value
    obtained by one macro for use by another macro.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>String</type>
 <methodname>getJEditHome</methodname>
 <void/>
</methodsynopsis>
<para>
    Returns the path of the directory containing the jEdit executable file.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>String</type>
 <methodname>getSettingsDirectory</methodname>
 <void/>
</methodsynopsis>
<para>
    Returns the path of the directory in which user-specific settings
    are stored. This will be null if jEdit was started with the
    <command>-nosettings</command> command-line switch; so do not
    blindly use this method without checking for a null return value
    first.
</para>
</listitem>

</itemizedlist>


<para>The jEdit object also maintains a number of collections which
are useful in some situations. They include the following:</para>

<itemizedlist>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>EditAction[]</type>
 <methodname>getActions</methodname>
 <void/>
</methodsynopsis>
<para>
    Returns an array of <quote>actions</quote> or short routines maintained and used
    by the editor.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>EditAction</type>
 <methodname>getAction</methodname>
 <methodparam><type>String</type><parameter>action</parameter></methodparam>
</methodsynopsis>
<para>
    Returns the action named <varname>action</varname>, or
    <constant>null</constant> if it does not exist.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>Buffer[]</type>
 <methodname>getBuffers</methodname>
 <void/>
</methodsynopsis>
<para>
    Returns an array of open buffers.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>Properties</type>
 <methodname>getProperties</methodname>
 <void/>
</methodsynopsis>
<para>
    Returns a Java <classname>Properties</classname> object (a class derived from
    <classname>Hashtable</classname>) holding all properties
    currently used by the program.  The constituent properties fall into three
    categories: application properties, <quote>site</quote> properties, and
    <quote>user</quote> properties.  Site properties take precedence over application
    properties with the same <quote>key</quote> or name, and user properties take
    precedence over both application and site properties.  User settings are
    written to a file named <filename>properties</filename> in the user settings
    directory upon program exit or whenever <function>jEdit.saveSettings()</function>
    is called.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>int</type>
 <methodname>getBufferCount</methodname>
 <void/>
</methodsynopsis>
<para>
    Returns the number of open buffers.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>Buffer</type>
 <methodname>getBuffer</methodname>
 <methodparam><type>String</type><parameter>path</parameter></methodparam>
</methodsynopsis>
<para>
    Returns the <classname>Buffer</classname> object containing the file named
    <varname>path</varname>. or <constant>null</constant> if the buffer does not exist.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>Mode[]</type>
 <methodname>getModes</methodname>
 <void/>
</methodsynopsis>
<para>
    Returns an array containing all editing modes used by jEdit.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>Mode</type>
 <methodname>getMode</methodname>
 <methodparam><type>String</type><parameter>name</parameter></methodparam>
</methodsynopsis>
<para>
    Returns the editing mode named by <varname>name</varname>, or
    <constant>null</constant> if such a mode does not exist.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>EditPlugin[]</type>
 <methodname>getPlugins</methodname>
 <void/>
</methodsynopsis>
<para>
    Returns an array containing all existing plugins.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>plugin</modifier><modifier>static</modifier><type>EditPlugin</type>
 <methodname>getPlugin</methodname>
 <methodparam><type>String</type><parameter>name</parameter></methodparam>
</methodsynopsis>
<para>
    Returns the plugin named by <varname>name</varname>, or
    <constant>null</constant> if such a plugin does not exist.
</para>
</listitem>

</itemizedlist>
</sect1>

<sect1 id="class-view"><title>Class View</title>

<para>
    This class represents the <quote>parent</quote> or top-level frame window
    in which the editing occurs. It contains the various visible
    components of the program, including the editing pane, menubar,
    toolbar, and any docking windows containing plugins.
</para>

<para>
    Some useful methods from this class include the following:
</para>

<itemizedlist>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>splitHorizontally</methodname>
 <void/>
</methodsynopsis>
<para>
    Splits the view horizontally.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>splitVertically</methodname>
 <void/>
</methodsynopsis>
<para>
    Splits the view vertically.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>unsplit</methodname>
 <void/>
</methodsynopsis>
<para>
    Unsplits the view.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>synchronized</modifier><void/>
 <methodname>showWaitCursor</methodname>
 <void/>
</methodsynopsis>
<para>
    Shows a <quote>waiting</quote> cursor (typically, an hourglass).
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>synchronized</modifier><void/>
 <methodname>hideWaitCursor</methodname>
 <void/>
</methodsynopsis>
<para>
    Removes the <quote>waiting</quote> cursor. This method and
    <function>showWaitCursor()</function> are implemented using a reference
    count of requests for wait cursors, so that nested calls work
    correctly; however, you should
    be careful to use these methods in tandem.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>StatusBar</type>
 <methodname>getStatus</methodname>
 <void/>
</methodsynopsis>
<para>
    Eeach <classname>View</classname> displays a
    <classname>StatusBar</classname> at its bottom edge. It shows the
    current cursor position, the editing mode of the current buffer and
    other information. The method <function>setMessage(String
    message)</function> can be called on the return value of
    <function>getStatus()</function> to display reminders or updates.
    The message remains until the method is called
    again. To display a temporary message in the status bar, call
    <function>setMessageAndClear(String message)</function>, which will
    erase the message automatically after ten seconds.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>DockableWindowManager</type>
 <methodname>getDockableWindowManager</methodname>
 <void/>
</methodsynopsis>
<para>
    The object returned by this method keeps track of all dockable
    windows. See <xref linkend="class-dockablewindowmanager" />.
</para>
</listitem>

</itemizedlist>

</sect1>

<!-- open sect1 -->
<sect1 id="class-registers"><title>Class Registers</title>
<para>
  A <classname>Register</classname> is string of text indexed by a
  single character.  Typically the text is taken from selected buffer text
  and the index character is a keyboard character selected by the user.
</para>

<para>
  The application maintains a single <classname>Registers</classname> object
  consisting of an dynamically sized array of <classname>Register</classname>
  objects.  The <classname>Registers</classname> class defines a number of methods
  that give each register the properties of a virtual clipboard.
</para>

<para>
  The following methods provide a clipboard operations for register
  objects:
</para>

<itemizedlist>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><modifier>static</modifier><void/>
      <methodname>copy</methodname>
      <methodparam><type>JEditTextArea</type><parameter>textArea</parameter></methodparam>
      <methodparam><type>char</type><parameter>register</parameter></methodparam>
    </methodsynopsis>
    <para>
      Saves the selected text in the designated <parameter>textArea</parameter>
      to the register indexed at <parameter>register</parameter>.  This
      will replace the existing contents of the designated register.
    </para>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><modifier>static</modifier><void/>
      <methodname>cut</methodname>
      <methodparam><type>JEditTextArea</type><parameter>textArea</parameter></methodparam>
      <methodparam><type>char</type><parameter>register</parameter></methodparam>
    </methodsynopsis>
  <para>
    Saves the selected text in the designated <parameter>textArea</parameter>
    to the register indexed at <parameter>register</parameter>, and removes the
    text from the text area.  This will replace the existing contents of the
    designated register.
  </para>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><modifier>static</modifier><void/>
      <methodname>append</methodname>
      <methodparam><type>JEditTextArea</type><parameter>textArea</parameter></methodparam>
      <methodparam><type>char</type><parameter>register</parameter></methodparam>
      <methodparam><type>String</type><parameter>separator</parameter></methodparam>
      <methodparam><type>boolean</type><parameter>cut</parameter></methodparam>
    </methodsynopsis>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><modifier>static</modifier><void/>
      <methodname>append</methodname>
      <methodparam><type>JEditTextArea</type><parameter>textArea</parameter></methodparam>
      <methodparam><type>char</type><parameter>register</parameter></methodparam>
      <methodparam><type>String</type><parameter>separator</parameter></methodparam>
    </methodsynopsis>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><modifier>static</modifier><void/>
      <methodname>append</methodname>
      <methodparam><type>JEditTextArea</type><parameter>textArea</parameter></methodparam>
      <methodparam><type>char</type><parameter>register</parameter></methodparam>
    </methodsynopsis>
  <para>
    These three methods append the selected text in the
    <parameter>textArea</parameter> to the designated register. If the
    <parameter>cut</parameter> parameter is not specified, the selected text
    remains in the text area. If the <parameter>separator</parameter>
    parameter is not specified, a newline character is used to separate the
    appended text from any existng register text.
  </para>
  </listitem>

</itemizedlist>

<para>
  The following methods provide a lower-level interface for working with
  registers:
</para>

<itemizedlist>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><modifier>static</modifier><void/>
      <methodname>setRegister</methodname>
      <methodparam><type>char</type><parameter>name</parameter></methodparam>
      <methodparam><type>Register</type><parameter>register</parameter></methodparam>
    </methodsynopsis>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><modifier>static</modifier><void/>
      <methodname>setRegister</methodname>
      <methodparam><type>char</type><parameter>name</parameter></methodparam>
      <methodparam><type>Register</type><parameter>newRegister</parameter></methodparam>
    </methodsynopsis>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><modifier>static</modifier><void/>
      <methodname>clearRegister</methodname>
      <methodparam><type>char</type><parameter>name</parameter></methodparam>
    </methodsynopsis>
    <para>
      Sets the text of the designated register to <constant>null</constant>.
      If the register is one of the two registers reserved by the
      application (as discussed in the next section), the text value is
      set to an empty string.
    </para>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><modifier>static</modifier><type>Register</type>
      <methodname>getRegister</methodname>
      <methodparam><type>char</type><parameter>name</parameter></methodparam>
    </methodsynopsis>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><modifier>static</modifier><type>Register[]</type>
      <methodname>getRegisters</methodname>
      <void/>
    </methodsynopsis>
  </listitem>

</itemizedlist>

</sect1>


<sect1 id="class-register"><title>Interface Registers.Register</title>

<para>
  This interface requires implementation of two methods:
  <function>setValue()</function>, which takes a
  <classname>String</classname> parameter, and
  <function>toString()</function>, which return a textual representation
  of the register's contents. Two classes implement this interface. A
  <classname>ClipboardRegister</classname> is tied to the contents of the
  application's clipboard. The application assigns a
  <classname>ClipboardRegister</classname> to the register indexed under
  the character <filename>$</filename>. A
  <classname>StringRegister</classname> is created for registers assigned
  by the user. In addition, the application assigns to the
  <classname>StringRegister</classname> indexed under <filename>%</filename>
  the last text segment selected in the text area.
</para>

<para>
  A <classname>Register</classname> object does not maintain a copy of
  its index key.  Indexing is performed by the <classname>Registers</classname>
  object.
</para>


</sect1>


<!-- LaTeX spews with id's that are too long? -->
<sect1 id="class-dockablewindowmanager"><title>Class DockableWindowManager</title>

    <para>
        Windows conforming to jEdit's dockable window API can appear in
        <quote>panes</quote> located above, below or to the left or right of the
        main editing pane. They can also be displayed in <quote>floating</quote>
        frame windows. A <classname>DockableWindowManager</classname> keeps
        track of the plugins associated with a particular
        <classname>View</classname>. Each <classname>View</classname> object
        contains an instance of this class.
    </para>

    <itemizedlist>
      <listitem>
        <methodsynopsis>
          <modifier>public</modifier><type>DockableWindow</type>
          <methodname>getDockableWindow</methodname>
          <methodparam><type>String</type><parameter>name</parameter></methodparam>
        </methodsynopsis>
        <para>
          This method returns the <classname>DockableWindow</classname>
          object named by the <varname>name</varname> parameter.  The name of a
          <classname>DockableWindow</classname> is a required property of the
          plugin.  If there is no <classname>DockableWindow</classname> bearing the
          requested name, the method returns <constant>null</constant>.
        </para>
       </listitem>

       <listitem>
        <methodsynopsis>
          <modifier>public</modifier><void/>
          <methodname>addDockableWindow</methodname>
          <methodparam><type>String</type><parameter>name</parameter></methodparam>
        </methodsynopsis>
        <para>
          If the <classname>DockableWindow</classname> named by the
          <varname>name</varname> parameter does not exist, a message is
          sent to the associated plugin to create it.  The
          <classname>DockableWindow</classname> is then made visible.
        </para>
       </listitem>

       <listitem>
        <methodsynopsis>
          <modifier>public</modifier><void/>
          <methodname>showDockableWindow</methodname>
          <methodparam><type>String</type><parameter>name</parameter></methodparam>
        </methodsynopsis>
       </listitem>

       <listitem>
        <methodsynopsis>
          <modifier>public</modifier><void/>
          <methodname>removeDockableWindow</methodname>
          <methodparam><type>String</type><parameter>name</parameter></methodparam>
        </methodsynopsis>
       </listitem>

       <listitem>
        <methodsynopsis>
          <modifier>public</modifier><void/>
          <methodname>toggleDockableWindow</methodname>
          <methodparam><type>String</type><parameter>name</parameter></methodparam>
        </methodsynopsis>
       <para>
         These methods, respectively show, hide and toggle the visibility
         of the <classname>DockableWindow</classname> object named by
         the <varname>name</varname> parameter.  If the
         <classname>DockableWindowManager</classname> does not contain a
         reference to the window, these methods send an error message to the
         activity log and have no other effect.  Only
         <function>addDockableWindow()</function> can cause the creation
         of a <classname>DockableWindow</classname>.
         </para>
       </listitem>
    </itemizedlist>

</sect1>

<sect1 id="class-jedittextarea"><title>Class JEditTextArea</title>

<para>
    This class is the visible component that displays the file
    being edited. It is derived from Java's <classname>JComponent</classname> class.
</para>

<para>
    Methods in this class that deal with selecting text
    rely upon classes derived from jEdit's
    <classname>Selection</classname> class. The
    <quote>Selection API</quote> permits selection and concurrent manipulation
    of multiple, non-contiguous regions of text. After describing the
    selection classes, we will outline the selection methods
    of <classname>JEditTextArea</classname>, followed by a listing of
    other methods in this class that are useful in writing macros.
</para>

<sect2 id="class-selection"><title>Class Selection</title>
  <para>
    This is an <glossterm>abstract class</glossterm> which holds data
    on a region of selected text. As an abstract class, it cannot be used
    directly, but instead serves as a parent class for specific types
    of selection structures.  The definition of
    <classname>Selection</classname> contains two child classes used by the
    Selection API:
  </para>

  <itemizedlist>
    <listitem>
      <para>
        <classname>Selection.Range</classname> - representing an ordinary
        range of selected text
      </para>
    </listitem>
    <listitem>
      <para>
        <classname>Selection.Rect</classname> - representing a rectangular
        selection region
      </para>
    </listitem>
  </itemizedlist>

  <para>
    A new instance of either type of <classname>Selection</classname>
    can be created by specifying its starting and ending caret positions:
  </para>

  <informalexample><programlisting>    selRange = new Selection.Range(start, end);

    setRect = new Selection.Rect(start, end);</programlisting></informalexample>

  <para>
    Both classes inherit or implement the following methods of the parent
    <classname>Selection</classname> class:
  </para>

  <itemizedlist>

    <listitem>
      <methodsynopsis>
        <modifier>public</modifier><type>int</type>
        <methodname>getStart</methodname>
        <void/>
      </methodsynopsis>
    </listitem>

    <listitem>
      <methodsynopsis>
        <modifier>public</modifier><type>int</type>
        <methodname>getEnd</methodname>
        <void/>
      </methodsynopsis>
      <para>
        Retrieves the buffer position representing the start or end
        of the selection.
      </para>
    </listitem>

    <listitem>
      <methodsynopsis>
        <modifier>public</modifier><type>int</type>
        <methodname>getStartLine</methodname>
        <void/>
      </methodsynopsis>
    </listitem>

    <listitem>
      <methodsynopsis>
        <modifier>public</modifier><type>int</type>
        <methodname>getEndLine</methodname>
        <void/>
      </methodsynopsis>
      <para>
        Retrieves the zero-based index number representing the line
        on which the selection starts or ends.
      </para>
    </listitem>

    <listitem>
      <methodsynopsis>
        <modifier>public</modifier><type>int</type>
        <methodname>getStart</methodname>
        <methodparam><type>Buffer</type><parameter>buffer</parameter></methodparam>
        <methodparam><type>int</type><parameter>line</parameter></methodparam>
      </methodsynopsis>
    </listitem>

    <listitem>
      <methodsynopsis>
        <modifier>public</modifier><type>int</type>
        <methodname>getEnd</methodname>
        <methodparam><type>Buffer</type><parameter>buffer</parameter></methodparam>
        <methodparam><type>int</type><parameter>line</parameter></methodparam>
      </methodsynopsis>
      <para>
        These two methods return the position of the beginning or end of
        that portion of the selection falling on the line referenced by
        the <parameter>line</parameter> parameter.  The parameter
        <parameter>buffer</parameter> is required because a
        <classname>Selection</classname> object is a lightweight structure
        that does not contain a reference to the
        <classname>Buffer</classname> object to which it relates.
      </para>
      <para>
        These methods do not check whether the <parameter>line</parameter>
        parameter is within the range of lines actually covered by the
        selection. They would typically be used within a
        loop defined by the <function>getStartLine()</function> and
        <function>getEndLine()</function> methods to manipulate
        selection text on a line-by-line basis.  Using them without range
        checking could cause unintended behavior.
      </para>
    </listitem>

  </itemizedlist>

</sect2>

<sect2 id="class-jedittextarea-selection"><title>Selection methods in
JEditTextArea</title>
<para>
  A <classname>JEditTextArea</classname> object maintains an
  <classname>Vector</classname> of current <classname>Selection</classname>
  objects. When a selection is added, the <classname>JEditTextArea</classname>
  attempts to merge the new selection with any existing selection whose range
  contains or overlaps with the new item.  When selections are added or
  removed using by these methods, the editing display is updated to show
  the change in selection status.
</para>

<para>
  Here are the principal methods of <classname>JEditTextArea</classname>
  dealing with <classname>Selection</classname> objects:
</para>

<sect3 id="class-jedittextarea-selection-add-remove">
<title>Adding and removing selections</title>
<itemizedlist>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><void/>
      <methodname>setMultipleSelectionEnabled</methodname>
      <methodparam><type>boolean</type><parameter>multi</parameter></methodparam>
    </methodsynopsis>
    <para>
      Set multiple selection on or off according to the value of
      <parameter>multi</parameter>. This only affects the ability to
      make multiple selections in the user interface; macros and plugins
      can manipulate them regardless of the setting of this flag. In fact,
      in most cases, calling this method should not be necessary.
    </para>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><type>Selection[]</type>
      <methodname>getSelection</methodname>
      <void/>
    </methodsynopsis>
    <para>
      Returns an array containing a copy of the current selections.
    </para>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><type>int</type>
      <methodname>getSelectionCount</methodname>
      <void/>
    </methodsynopsis>
    <para>
      Returns the current number of selections.  This can be used to test
      for the existence of selections.
    </para>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><type>Selection</type>
      <methodname>getSelectionAtOffset</methodname>
      <methodparam><type>int</type><parameter>offset</parameter></methodparam>
    </methodsynopsis>
    <para>
      Returns the <classname>Selection</classname> containing the specific offset,
      or <constant>null</constant> if there is no selection at that offset.
    </para>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><void/>
      <methodname>addToSelection</methodname>
      <methodparam><type>Selection</type><parameter>selection</parameter></methodparam>
    </methodsynopsis>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><void/>
      <methodname>addToSelection</methodname>
    </methodsynopsis>
    <para>
      Adds a single <classname>Selection</classname> or an array of
      <classname>Selection</classname> objects to the existing collection
      maintined by the <classname>JEditTextArea</classname>.  Nested or
      overlapping selections will be merged where possible.
    </para>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><void/>
      <methodname>extendSelection</methodname>
      <methodparam><type>int</type><parameter>offset</parameter></methodparam>
      <methodparam><type>int</type><parameter>end</parameter></methodparam>
    </methodsynopsis>
    <para>
      Extends the existing selection containing the position at
      <parameter>offset</parameter> to the position represented by
      <parameter>end</parameter>.  If there is no selection containing
      <parameter>offset</parameter> the method creates a new
      <classname>Selection.Range</classname> extending from
      <parameter>offset</parameter> to <parameter>end</parameter> and
      adds it to the current collection.
    </para>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><void/>
      <methodname>removeFromSelection</methodname>
      <methodparam><type>Selection</type><parameter>sel</parameter></methodparam>
    </methodsynopsis>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><void/>
      <methodname>removeFromSelection</methodname>
      <methodparam><type>int</type><parameter>offset</parameter></methodparam>
    </methodsynopsis>
    <para>
      These methods remove a selection from the current collection.  The
      second version removes any selection that contains the position at
      <parameter>offset</parameter>, and has no effect if no such
      selection exists.
    </para>
  </listitem>
</itemizedlist>
</sect3>

<sect3 id="class-jedittextarea-selection-text">
<title>Getting and setting selected text</title>
<itemizedlist>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><type>String</type>
      <methodname>getSelectedText</methodname>
      <methodparam><type>Selection</type><parameter>s</parameter></methodparam>
    </methodsynopsis>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><type>String</type>
      <methodname>getSelectedText</methodname>
      <methodparam><type>String</type><parameter>separator</parameter></methodparam>
    </methodsynopsis>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><type>String</type>
      <methodname>getSelectedText</methodname>
      <void/>
    </methodsynopsis>
    <para>
      These three methods return a <classname>String</classname> containing
      text corresponding to the current selections. The first version returns
      the text corresponding to a particular selection named as the parameter,
      allowing for iteration through the collection or focus on a specific
      selection (such as a selection containing the current caret position).
      The second version combines all selection text in a single
      <classname>String</classname>, separated by the
      <classname>String</classname> given as the
      <parameter>separator</parameter>. The final version operates like the
      second version, separating individual selections with newline characters.
    </para>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><void/>
      <methodname>setSelectedText</methodname>
      <methodparam><type>Selection</type><parameter>s</parameter></methodparam>
      <methodparam><type>String</type><parameter>selectedText</parameter></methodparam>
    </methodsynopsis>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><void/>
      <methodname>setSelectedText</methodname>
      <methodparam><type>String</type><parameter>selectedText</parameter></methodparam>
    </methodsynopsis>
    <para>
      The first version changes the text of the selection represented
      by <parameter>s</parameter> to
      <parameter>selectedText</parameter>. The second version sets the
      text of all active selections; if there are no selections, the
      text will be inserted at the current caret position.
    </para>
    <para>
      The second version of <function>setSelectedText()</function> is
      the method that will typically be used in macro scripts to insert
      text.
    </para>
  </listitem>
  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><type>int[]</type>
      <methodname>getSelectedLines</methodname>
      <void/>
    </methodsynopsis>
    <para>
      Returns a sorted array of line numbers on which a selection or selections
      are present. The current line is included in the array whether or
      not it is part of a selection.
    </para>
    <para>
      This method is the most convenient way to iterate through selected lines
      in a buffer. The line numbers in the array returned by this method can
      be passed as a parameter to such methods as
      <function>getLineText()</function>, as discussed below.
    </para>
  </listitem>

</itemizedlist>
</sect3>

<sect3 id="class-jedittextarea-selection-other">
<title>Other selection methods</title>

<para>
  The following methods perform selection operations without using
  <classname>Selection</classname> objects as parameters or return
  values. These methods should only be used in macros.
</para>


<itemizedlist>
<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>selectBlock</methodname>
 <void/>
</methodsynopsis>
<para>
    Selects the code block surrounding the caret.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>selectWord</methodname>
 <void/>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>selectLine</methodname>
 <void/>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>selectParagraph</methodname>
 <void/>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>selectFold</methodname>
 <void/>
</methodsynopsis>
<para>
  Selects the <quote>fold</quote> (a portion of text sharing a given
  indentation level) that contains the line where the editing caret
  is positioned.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>selectFoldAt</methodname>
 <methodparam><type>int</type><parameter>line</parameter></methodparam>
</methodsynopsis>
  <para>
    Selects the fold containing the line referenced by
    <parameter>line</parameter>.
  </para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>selectAll</methodname>
 <void/>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>selectNone</methodname>
 <void/>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>indentSelectedLines</methodname>
 <void/>
</methodsynopsis>
</listitem>

</itemizedlist>
</sect3>


</sect2>

<sect2 id="class-jedittextarea-non-selection">
  <title>Other methods in JEditTextArea</title>

<sect3 id="class-jedittextarea-caret">
<title>Editing caret methods</title>
<para>
    These methods are used to get, set and move the position of the
    editing caret:
</para>

<itemizedlist>
<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>int</type>
 <methodname>getCaretPosition</methodname>
 <void/>
</methodsynopsis>
<para>
    Returns a zero-based index of the caret position in the existing buffer.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>setCaretPosition</methodname>
 <methodparam><type>int</type><parameter>caret</parameter></methodparam>
</methodsynopsis>
<para>
    Sets the caret position at <parameter>caret</parameter> and deactivates
    any selection of text.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>moveCaretPosition</methodname>
 <methodparam><type>int</type><parameter>caret</parameter></methodparam>
</methodsynopsis>
<para>
    This moves the caret to the position represented by
    <parameter>caret</parameter> without affecting any selection of
    text.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>int</type>
 <methodname>getCaretLine</methodname>
 <void/>
</methodsynopsis>
<para>
    Returns the line on which the caret is positioned.
</para>
</listitem>


</itemizedlist>

<para>
    Each of the following shortcut methods moves the caret.  If the
    <parameter>select</parameter> parameter is set to
    <constant>true</constant>, the intervening text will be selected
    as well.
</para>

<itemizedlist>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>goToStartOfLine</methodname>
 <methodparam><type>boolean</type><parameter>select</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>goToEndOfLine</methodname>
 <methodparam><type>boolean</type><parameter>select</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>goToStartOfWhiteSpace</methodname>
 <methodparam><type>boolean</type><parameter>select</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>goToEndOfWhiteSpace</methodname>
 <methodparam><type>boolean</type><parameter>select</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>goToFirstVisibleLine</methodname>
 <methodparam><type>boolean</type><parameter>select</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>goToLastVisibleLine</methodname>
 <methodparam><type>boolean</type><parameter>select</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>goToNextCharacter</methodname>
 <methodparam><type>boolean</type><parameter>select</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>goToPrevCharacter</methodname>
 <methodparam><type>boolean</type><parameter>select</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>goToNextWord</methodname>
 <methodparam><type>boolean</type><parameter>select</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>goToPrevWord</methodname>
 <methodparam><type>boolean</type><parameter>select</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>goToNextLine</methodname>
 <methodparam><type>boolean</type><parameter>select</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>goToPrevLine</methodname>
 <methodparam><type>boolean</type><parameter>select</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>goToNextParagraph</methodname>
 <methodparam><type>boolean</type><parameter>select</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>goToPrevParagraph</methodname>
 <methodparam><type>boolean</type><parameter>select</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>goToNextBracket</methodname>
 <methodparam><type>boolean</type><parameter>select</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>goToPrevBracket</methodname>
 <methodparam><type>boolean</type><parameter>select</parameter></methodparam>
</methodsynopsis>
</listitem>

</itemizedlist>


</sect3>

<!-- open sect3 -->
<sect3 id="class-jedittextarea-scrolling">
<title>Methods for scrolling the text area</title>

<itemizedlist>

<listitem>
  <methodsynopsis>
    <modifier>public</modifier><void/>
    <methodname>scrollUpLine</methodname>
    <void/>
  </methodsynopsis>
</listitem>

<listitem>
  <methodsynopsis>
    <modifier>public</modifier><void/>
    <methodname>scrollUpPage</methodname>
    <void/>
  </methodsynopsis>
</listitem>

<listitem>
  <methodsynopsis>
    <modifier>public</modifier><void/>
    <methodname>scrollDownLine</methodname>
    <void/>
  </methodsynopsis>
</listitem>

<listitem>
  <methodsynopsis>
    <modifier>public</modifier><void/>
    <methodname>scrollUpPage</methodname>
    <void/>
  </methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>scrollToCaret</methodname>
 <methodparam><type>boolean</type><parameter>doElectricScroll</parameter></methodparam>
</methodsynopsis>
<para>
    Scrolls the text area to ensure that the caret is visible. The
    <parameter>doElectricScroll</parameter> parameter detemines whether
    <quote>electric scrolling</quote> will occur. This leaves a minimum
    number of lines between the caret line and the top and bottom of the
    editing pane.
</para>
</listitem>

<listitem>
  <methodsynopsis>
    <modifier>public</modifier><void/>
    <methodname>centerCaret</methodname>
    <void/>
  </methodsynopsis>
  <para>
    Scrolls the text area so that the line containing the edit caret is
    vertically centered.
  </para>
</listitem>

<listitem>
 <methodsynopsis>
  <modifier>public</modifier><void/>
  <methodname>setFirstLine</methodname>
  <methodparam><type>int</type><parameter>firstLine</parameter></methodparam>
 </methodsynopsis>
</listitem>

<listitem>
  <methodsynopsis>
    <modifier>public</modifier><type>int</type>
    <methodname>getFirstLine</methodname>
    <void/>
  </methodsynopsis>
  <para>
    This pair of methods deals with the line number of the first line
    displayed at the top of the text area. Lines that are hidden by folds or
    narrowing are ignored when making this <quote>virtual</quote> line
    count, so the line number will not necessarily conform to the line
    numbers displayed in the text area's gutter. In addition, the virtual
    line index is zero-based, so <function>getFirstLine()</function> will
    always return zero for the first line of text.
  </para>
  <para>
    To convert a virtual line count to a physical count or vice versa,
    see <xref linkend="class-buffer-virtual-lines" />.
  </para>
</listitem>

<listitem>
 <methodsynopsis>
  <modifier>public</modifier><void/>
  <methodname>setElectricScroll</methodname>
  <methodparam><type>int</type><parameter>electricScroll</parameter></methodparam>
 </methodsynopsis>
</listitem>

<listitem>
  <methodsynopsis>
    <modifier>public</modifier><type>int</type>
    <methodname>getElectricScroll</methodname>
    <void/>
  </methodsynopsis>
  <para>
    The <quote>electric scroll</quote> attribute is the number of lines
    above and below the editing caret that always remain visible when
    scrolling.
  </para>
</listitem>
</itemizedlist>

</sect3>

<sect3 id="class-jedittextarea-position">
<title>Methods for calculating editing positions</title>


<itemizedlist>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>int</type>
 <methodname>getLineOfOffset</methodname>
 <methodparam><type>int</type><parameter>offset</parameter></methodparam>
</methodsynopsis>
<para>
    Returns the line on which the given offset is found.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>int</type>
 <methodname>getLineStartOffset</methodname>
 <methodparam><type>int</type><parameter>line</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>int</type>
 <methodname>getLineEndOffset</methodname>
 <methodparam><type>int</type><parameter>line</parameter></methodparam>
</methodsynopsis>
<para>
    Returns the offset of the beginning or end of the given line.
</para>
</listitem>

</itemizedlist>
</sect3>

<sect3 id="class-jedittextarea-gettext">
<title>Other methods for retrieving text</title>

<para>
    These methods can retrieve buffer text without regard
    to a selection or the position of the editing caret.
</para>

<itemizedlist>
<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>String</type>
 <methodname>getText</methodname>
 <methodparam><type>int</type><parameter>start</parameter></methodparam>
 <methodparam><type>int</type><parameter>len</parameter></methodparam>
</methodsynopsis>
<para>
    Returns the text located between buffer offset positions.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>String</type>
 <methodname>getLineText</methodname>
 <methodparam><type>int</type><parameter>lineIndex</parameter></methodparam>
</methodsynopsis>
<para>
    Returns the text on the given line.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>String</type>
 <methodname>getText</methodname>
 <void/>
</methodsynopsis>
<para>
    Returns the entire text in the text area.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>setText</methodname>
 <methodparam><type>String</type><parameter>text</parameter></methodparam>
</methodsynopsis>
<para>
    Sets (and replaces) the entire text of the text area.
</para>
</listitem>

</itemizedlist>
</sect3>


<sect3 id="class-jedittextarea-delete">
<title>Methods for deleting text</title>

<itemizedlist>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>delete</methodname>
 <void/>
</methodsynopsis>
<para>
    Deletes the character to the left of the editing caret.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>deleteWord</methodname>
 <void/>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>deleteLine</methodname>
 <void/>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>deleteParagraph</methodname>
 <void/>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>deleteToStartOfLine</methodname>
 <void/>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>deleteToEndOfLine</methodname>
 <void/>
</methodsynopsis>
</listitem>

</itemizedlist>
</sect3>

<!-- open sect3 -->
<sect3 id="class-jedittextarea-modify">
<title>Methods for modifying text</title>

<itemizedlist>

<listitem>
  <methodsynopsis>
    <modifier>public</modifier><void/>
    <methodname>toLowerCase</methodname>
    <void/>
  </methodsynopsis>
</listitem>

<listitem>
  <methodsynopsis>
    <modifier>public</modifier><void/>
    <methodname>toUpperCase</methodname>
    <void/>
  </methodsynopsis>
  <para>
    These two methods operate on all selected text, including multiple
    selections.
  </para>
</listitem>

<listitem>
  <methodsynopsis>
    <modifier>public</modifier><void/>
    <methodname>joinLines</methodname>
    <void/>
  </methodsynopsis>
  <para>
    Joins the current line with the following line.
  </para>
</listitem>

<listitem>
  <methodsynopsis>
    <modifier>public</modifier><void/>
    <methodname>setOverwriteEnabled</methodname>
    <methodparam><type>boolean</type><parameter>overwrite</parameter></methodparam>
  </methodsynopsis>
</listitem>

<listitem>
  <methodsynopsis>
    <modifier>public</modifier><type>boolean</type>
    <methodname>isOverwriteEnabled</methodname>
    <void/>
  </methodsynopsis>
  <para>
    Sets and gets whether added text will overwrite text at the editing
    caret or whether it will be inserted immediately to the right of the
    caret.
  </para>
</listitem>

<listitem>
  <methodsynopsis>
    <modifier>public</modifier><void/>
    <methodname>userInput</methodname>
    <methodparam><type>char</type><parameter>ch</parameter></methodparam>
  </methodsynopsis>
  <para>
     Inserts the character at the caret position as if it were typed at
     the keyboard (keyboard input is actually passed to this method).
     Unlike <function>setSelectedText()</function>, or
     <function>insertString()</function> in the
     <classname>Buffer</classname> class, this method triggers
     any active text formatting features such as auto indent,
     abbreviation expansion and word wrap.
  </para>
</listitem>

</itemizedlist>

</sect3>

<sect3 id="class-jedittextarea-commment">
<title>Methods for creating comments</title>

<itemizedlist>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>lineComment</methodname>
 <void/>
</methodsynopsis>
<para>
    This inserts the line comment string at the beginning of each selected line.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>rangeComment</methodname>
 <void/>
</methodsynopsis>
<para>
    This surrounds each selected text chunk with
    the comment start and end strings.
</para>
</listitem>

</itemizedlist>
</sect3>

<sect3 id="class-jedittextarea-statistics">
<title>Methods for getting buffer statistics</title>

<itemizedlist>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>int</type>
 <methodname>getBufferLength</methodname>
 <void/>
</methodsynopsis>
<para>
    Returns the number of characters in the buffer.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>int</type>
 <methodname>getLineCount</methodname>
 <void/>
</methodsynopsis>
<para>
    Returns the number of lines in the buffer being edited.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>int</type>
 <methodname>getVirtualLineCount</methodname>
 <void/>
</methodsynopsis>
<para>
    Returns the number of <quote>virtual</quote> or visible lines in the
    buffer being edited, which may be less than the total number of
    lines because of folding or narrowing.
</para>
<para>
  To convert a virtual line count to a physical count or vice versa,
  see <xref linkend="class-buffer-virtual-lines" />.
</para>

</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>int</type>
 <methodname>getLineLength</methodname>
 <methodparam><type>int</type><parameter>line</parameter></methodparam>
</methodsynopsis>
<para>
    Returns the length of the line number <varname>line</varname> (using a
    zero-based count).
</para>
</listitem>

</itemizedlist>
</sect3>
</sect2>

</sect1>

<sect1 id="class-buffer"><title>Class Buffer</title>

<para>
    A <classname>Buffer</classname> represents the contents of an open text
    file as it is maintained in the computer's memory (as opposed to
    how it may be stored on a disk). It is derived from Java's
    <classname>PlainDocument</classname> class.
</para>

<sect2 id="class-buffer-file"><title>File attribute methods</title>

<itemizedlist>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>String</type>
 <methodname>getName</methodname>
 <void/>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>String</type>
 <methodname>getPath</methodname>
 <void/>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>File</type>
 <methodname>getFile</methodname>
 <void/>
</methodsynopsis>
<para>
 This method may return <literal>null</literal> if the file is stored on
 a remote file system (for example, if the <application>FTP</application>
 or <application>Archive</application> plugins are in use). This method
 should be avoided if possible.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>boolean</type>
 <methodname>isNewFile</methodname>
 <void/>
</methodsynopsis>
<para>
    Returns whether a buffer lacks a corresponding version on disk.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>boolean</type>
 <methodname>isDirty</methodname>
 <void/>
</methodsynopsis>
<para>
    Returns whether there have been unsaved changes to the buffer.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>boolean</type>
 <methodname>isReadOnly</methodname>
 <void/>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>boolean</type>
 <methodname>isUntitled</methodname>
 <void/>
</methodsynopsis>
</listitem>

</itemizedlist>

</sect2>

<sect2 id="class-buffer-editing-attr"><title>Editing attribute methods</title>

<itemizedlist>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>Mode</type>
 <methodname>getMode</methodname>
 <void/>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>setMode</methodname>
 <methodparam><type>Mode</type><parameter>mode</parameter></methodparam>
</methodsynopsis>
<para>
    Gets and sets the editing mode for the buffer.
</para>
</listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><type>int</type>
      <methodname>getIndentSize</methodname>
      <void/>
    </methodsynopsis>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><type>int</type>
      <methodname>getTabSize</methodname>
      <void/>
    </methodsynopsis>
    <para>
      These methods return the size of an initial indentation at the beginning
      of a line and the distance between tab stops, each measured in
      character columns. If these properties are not individually set for
      a specific buffer, they are inherited from the properties of the buffer's
      associated editing mode.
    </para>
  </listitem>
</itemizedlist>
<para>
  The following two methods are inherited by the <classname>Buffer</classname>
  class.
</para>

<itemizedlist>
  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><void/>
      <methodname>putProperty</methodname>
      <methodparam><type>Object</type><parameter>key</parameter></methodparam>
      <methodparam><type>Object</type><parameter>value</parameter></methodparam>
    </methodsynopsis>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><type>Object</type>
      <methodname>getProperty</methodname>
      <methodparam><type>Object</type><parameter>key</parameter></methodparam>
    </methodsynopsis>
    <para>
      The <classname>Buffer</classname> object maintains a table of
      properties that describe a broad range of attributes. The value of each
      property is stored using a key for indexing purposes, usually a
      <classname>String</classname> that names the particular property.
      Property values can be set and retreived using these two methods.
      The <classname>Object</classname> returned by
      <function>getProperty()</function> usually has to be cast to a derived type
      to be useful. Most of these properties are documented in <xref
      linkend="buffer-local" />.
    </para>
  </listitem>
</itemizedlist>

<para>
  These two methods provide shortcuts for getting snd setting <classname>boolean</classname>
  properties.
</para>

<itemizedlist>
<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>boolean</type>
 <methodname>getBooleanProperty</methodname>
 <methodparam><type>String</type><parameter>name</parameter></methodparam>
</methodsynopsis>
<para>
    Returns a <classname>boolean</classname> value of <constant>true</constant> or
    <constant>false</constant> for the property named by <varname>name</varname> by
    examining the contents of the property; returns
    <constant>false</constant> if the property cannot be found.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><void/>
 <methodname>setBooleanProperty</methodname>
 <methodparam><type>String</type><parameter>name</parameter></methodparam>
 <methodparam><type>boolean</type><parameter>value</parameter></methodparam>
</methodsynopsis>
<para>
    This method sets the property named by <varname>name</varname> to
    <varname>value</varname>. The boolean value is stored internally as the
    string <quote>true</quote> or <quote>false</quote>.
</para>
</listitem>

</itemizedlist>


</sect2>

<sect2 id="class-buffer-editing-action"><title>Editing action methods</title>
<sect3 id="class-buffer-editing-general"><title>General editing methods</title>

<itemizedlist>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>reload</methodname>
 <methodparam><type>View</type><parameter>view</parameter></methodparam>
</methodsynopsis>
<para>
  Reloads the buffer from disk into <parameter>view</parameter>, asking
  for confirmation if the buffer has unsaved changes.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>boolean</type>
 <methodname>save</methodname>
 <methodparam><type>View</type><parameter>view</parameter></methodparam>
 <methodparam><type>String</type><parameter>path</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>boolean</type>
 <methodname>save</methodname>
 <methodparam><type>View</type><parameter>view</parameter></methodparam>
 <methodparam><type>String</type><parameter>path</parameter></methodparam>
 <methodparam><type>boolean</type><parameter>rename</parameter></methodparam>
</methodsynopsis>
<para>
    The <parameter>rename</parameter> parameter causes a buffer's name to
    change if set to <parameter>true</parameter>; if
    <parameter>false</parameter>, a copy is saved to
    <parameter>path</parameter>.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>boolean</type>
 <methodname>saveAs</methodname>
 <methodparam><type>View</type><parameter>view</parameter></methodparam>
 <methodparam><type>boolean</type><parameter>rename</parameter></methodparam>
</methodsynopsis>
<para>
    Prompts the user for a new name for saving the file.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>beginCompoundEdit</methodname>
 <void/>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>endCompoundEdit</methodname>
 <void/>
</methodsynopsis>
<para>
    Marks the beginning and end of a series of editing operations that will
    be dealt with by a single <guimenuitem>Undo</guimenuitem> command.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><void/>
 <methodname>removeTrailingWhiteSpace</methodname>
</methodsynopsis>
<para>
    Removes trailing whitespace in the lines referenced by the index numbers
    in <parameter>lines</parameter> array.
</para>
</listitem>

</itemizedlist>

  <para>
    The following methods are inherited by <classname>Buffer</classname>
    from its parent class.
  </para>

  <itemizedlist>

    <listitem>
      <methodsynopsis>
        <modifier>public</modifier><type>String</type>
        <methodname>getText</methodname>
        <methodparam><type>int</type><parameter>length</parameter></methodparam>
      </methodsynopsis>
    </listitem>

    <listitem>
      <methodsynopsis>
        <modifier>public</modifier><void/>
        <methodname>getText</methodname>
        <methodparam><type>int</type><parameter>length</parameter></methodparam>
        <methodparam><type>Segment</type><parameter>text</parameter></methodparam>
      </methodsynopsis>
     <para>
       These methods extract a portion of buffer text having length
       <varname>length</varname> beginning at offset position
       <varname>offset</varname>.  The first method returns a newly
       created <classname>String</classname> containing the requested
       excerpt.  The second version initializes an existing
       <classname>Segment</classname> object with the location of the
       requested excerpt.  The <classname>Segment</classname> object
       represents array locations within the <classname>Buffer</classname>
       object's data and should be used on a read-only basis. Calling
       <function>toString()</function> on the <classname>Segment</classname>
       will create a new object suitable for manipulation.
     </para>
    </listitem>

    <listitem>
      <methodsynopsis>
        <modifier>public</modifier><void/>
        <methodname>insertString</methodname>
        <methodparam><type>String</type><parameter>text</parameter></methodparam>
        <methodparam><type>AttributeSet</type><parameter>attr</parameter></methodparam>
      </methodsynopsis>
     <para>
       This method inserts the string <varname>text</varname> at offset
       <varname>offset</varname> in the buffer. The attribute
       <varname>attr</varname> is not used by jEdit and should be left
       as <constant>null</constant>.
     </para>
    </listitem>

    <listitem>
      <methodsynopsis>
        <modifier>public</modifier><type>int</type>
        <methodname>getLength</methodname>
      </methodsynopsis>
     <para>
       This method returns the number of characters in the buffer.
     </para>
    </listitem>

    </itemizedlist>
</sect3>

<sect3 id="class-buffer-editing-marker"><title>Marker methods</title>
<para>
  Buffers may have one or more <glossterm>markers</glossterm> which serve
  as textual bookmarks.  A <classname>Marker</classname> has three key attributes: the
  <classname>Buffer</classname> to which it relates, the line number to which
  the marker refers, and an optional shortcut character.  The shortcut
  identifies the the key that can be pressed with the
  <guimenu>Markers</guimenu>&gt;<guimenuitem>Go To Marker</guimenuitem>
  command to move the editing caret to the marker line location.
</para>
<para>
  The position and shortcut character of a <classname>Marker</classname>
  object can be retrieved with the methods <function>getPosition()</function>
  and <function>getShortcut()</function>.
</para>
<para>
  The <classname>Buffer</classname> class includes the following methods to
  set and retrieve markers:
</para>

<itemizedlist>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><void/>
      <methodname>addMarker</methodname>
      <methodparam><type>char</type><parameter>shortcut</parameter></methodparam>
      <methodparam><type>int</type><parameter>pos</parameter></methodparam>
    </methodsynopsis>
    <para>
      Adds a marker for the line indicated by <parameter>pos</parameter>
      using <parameter>shortcut</parameter>.  Set
      <parameter>shortcut</parameter> to <constant>'\0'</constant> to
      indicate the absence of a shortcut.
    </para>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><type>Vector</type>
      <methodname>getMarkers</methodname>
      <void/>
    </methodsynopsis>
    <para>
      Returns a <classname>Vector</classname> containing the buffer's
      current markers.
    </para>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><type>Marker</type>
      <methodname>getMarkerAtLine</methodname>
      <methodparam><type>int</type><parameter>line</parameter></methodparam>
    </methodsynopsis>
    <para>
      Returns the first marker at the specified line, or
      <constant>null</constant> if no marker is present at the line.
    </para>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><type>Marker</type>
      <methodname>getMarker</methodname>
      <methodparam><type>char</type><parameter>shortcut</parameter></methodparam>
    </methodsynopsis>
    <para>
      Returns the marker with the specified shortcut, or
      <constant>null</constant> if no such marker exists.
    </para>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><void/>
      <methodname>removeMarker</methodname>
      <methodparam><type>int</type><parameter>line</parameter></methodparam>
    </methodsynopsis>
    <para>
      Removes all markers at the specified line.
    </para>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><void/>
      <methodname>removeAllMarkers</methodname>
      <void/>
    </methodsynopsis>
    <para>
      Removes all markers in the buffer.
    </para>
  </listitem>

</itemizedlist>
</sect3>

<sect3 id="class-buffer-editing-folding"><title>Folding methods</title>

<para>
  The <quote>folding</quote> features of jEdit allow sections of source
  code with a given indentation level to be hidden, creating
  <quote>folds</quote> that can be hidden and expanded, as well as a
  virtual line numbering scheme that skips hidden, folded lines.  The
  following methods in the <classname>Buffer</classname> class deal with
  the folding mechanism.
</para>

<itemizedlist>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><type>boolean</type>
      <methodname>collapseFoldAt</methodname>
      <methodparam><type>int</type><parameter>line</parameter></methodparam>
    </methodsynopsis>
    <para>
      Collapses the fold that contains the specified line number.  The
      method returns <constant>false</constant> if there are no folds in
      the buffer for the indicated line.
    </para>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><type>boolean</type>
      <methodname>expandFoldAt</methodname>
      <methodparam><type>int</type><parameter>line</parameter></methodparam>
      <methodparam><type>boolean</type><parameter>fully</parameter></methodparam>
      <methodparam><type>JEditTextArea</type><parameter>textArea</parameter></methodparam>
    </methodsynopsis>
    <para>
      Expands the fold that contains the specified line number.  If
      <parameter>fully</parameter> is true, all folds at the line will be
      expanded, otherwise only one level of folding will be expanded. The
      <parameter>textArea</parameter> parameter is provided to the method
      to facilitiate scrolling after folds are expanded.
    </para>
    <para>
      The method returns <constant>false</constant> if there are no folds in
      the buffer for the indicated line.
    </para>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><void/>
      <methodname>expandFolds</methodname>
      <methodparam><type>int</type><parameter>level</parameter></methodparam>
    </methodsynopsis>
    <para>
      This method expands all folds in the buffer up to
      <parameter>level</parameter> and collapses all folds with a
      higher level.  The <parameter>level</parameter> parameter
      represents the number of indentations, not the actual number
      of indented spaces.
    </para>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><void/>
      <methodname>expandAllFolds</methodname>
      <void/>
    </methodsynopsis>
    <para>
      Expands all folds in the buffer.
    </para>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><void/>
      <methodname>narrow</methodname>
      <methodparam><type>int</type><parameter>start</parameter></methodparam>
      <methodparam><type>int</type><parameter>end</parameter></methodparam>
    </methodsynopsis>
    <para>
      Narrows the visible portion of the buffer to the specified
      line range. To undo the narrowing, call the
      <function>Buffer.expandAllFolds()</function> method.
    </para>
  </listitem>

</itemizedlist>

</sect3>

<sect3 id="class-buffer-virtual-lines">
<title>Virtual and physical line indices</title>

<para>
  When jEdit's folding or narrowing features are used to hide
  portions of a buffer, the <quote>virtual</quote> line count visible
  in the text area is generally not equal to the <quote>physical</quote>
  line count of the buffer represented by the gutter's display.  The
  following pair of methods translate one enumeration to the other.
</para>


<itemizedlist>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><type>int</type>
      <methodname>virtualToPhysical</methodname>
      <methodparam><type>int</type><parameter>lineNo</parameter></methodparam>
    </methodsynopsis>
  </listitem>

  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><type>int</type>
      <methodname>physicalToVirtual</methodname>
      <methodparam><type>int</type><parameter>lineNo</parameter></methodparam>
    </methodsynopsis>
  </listitem>

</itemizedlist>

</sect3>

</sect2>

</sect1>

<sect1 id="class-macros"><title>Class Macros</title>

<para>
    The following shortcut methods are useful in displaying output messages
    or obtaining input from a macro.
</para>

  <itemizedlist>

<listitem>
 <methodsynopsis>
  <modifier>public</modifier><modifier>static</modifier><void/>
  <methodname>message</methodname>
  <methodparam><type>View</type><parameter>view</parameter></methodparam>
  <methodparam><type>String</type><parameter>message</parameter></methodparam>
 </methodsynopsis>
<para>
    Displays the text of <parameter>message</parameter> (with an information icon)
    in a modal message box centered on the designated <parameter>view</parameter>.
</para>
</listitem>

<listitem>
 <methodsynopsis>
  <modifier>public</modifier><modifier>static</modifier><void/>
  <methodname>error</methodname>
  <methodparam><type>View</type><parameter>view</parameter></methodparam>
  <methodparam><type>String</type><parameter>message</parameter></methodparam>
 </methodsynopsis>
<para>
    Similar to <function>message</function> but displays an error icon.
</para>
</listitem>

<listitem>
 <methodsynopsis>
  <modifier>public</modifier><modifier>static</modifier><type>String</type>
  <methodname>input</methodname>
  <methodparam><type>View</type><parameter>view</parameter></methodparam>
  <methodparam><type>String</type><parameter>prompt</parameter></methodparam>
 </methodsynopsis>
</listitem>

<listitem>
 <methodsynopsis>
  <modifier>public</modifier><modifier>static</modifier><type>String</type>
  <methodname>input</methodname>
  <methodparam><type>View</type><parameter>view</parameter></methodparam>
  <methodparam><type>String</type><parameter>prompt</parameter></methodparam>
  <methodparam><type>String</type><parameter>defaultValue</parameter></methodparam>
 </methodsynopsis>
<para>
    Displays the text of <parameter>prompt</parameter>, a text input field,
    and a question icon in the designated <parameter>view</parameter>. In
    the second version, the text field will initially contain the text of
    <parameter>defaultValue</parameter>. Returns the contents of the text
    field if the dialog box is dismissed by pressing the
    <guilabel>OK</guilabel> button, or <constant>null</constant> if the
    <guilabel>Cancel</guilabel> button is pressed.
</para>
</listitem>

<listitem>
 <methodsynopsis>
  <modifier>public</modifier><modifier>static</modifier><type>int</type>
  <methodname>confirm</methodname>
  <methodparam><type>View</type><parameter>view</parameter></methodparam>
  <methodparam><type>String</type><parameter>message</parameter></methodparam>
  <methodparam><type>int</type><parameter>buttons</parameter></methodparam>
 </methodsynopsis>
<para>
   The
   <varname>buttons</varname> parameter should either be
   <constant>JOptionPane.YES_NO_OPTION</constant>,
   <constant>JOptionPane.YES_NO_CANCEL_OPTION</constant>, or
   <constant>JOptionPane.OK_CANCEL_OPTION</constant>. The return
   value of the method is one of
   <constant>JOptionPane.YES_OPTION</constant>,
   <constant>JOptionPane.NO_OPTION</constant>,
   <constant>JOptionPane.OK_OPTION</constant> or
   <constant>JOptionPane.CANCEL_OPTION</constant>.
</para>
</listitem>

</itemizedlist>


</sect1>

<sect1 id="class-searchandreplace"><title>Class SearchAndReplace</title>

<para>
    Search and replace routines are undertaken by jEdit's
    <classname>SearchAndReplace</classname> class.
</para>

<para>
    The following static methods allow you to set or get the parameters
    for a search.  You can do this prior to or even without
    activating the search dialog.
</para>

<itemizedlist>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><void/>
 <methodname>setSearchString</methodname>
 <methodparam><type>String</type><parameter>search</parameter></methodparam>
</methodsynopsis>
</listitem>


<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>String</type>
 <methodname>getSearchString</methodname>
 <void/>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><void/>
 <methodname>setReplaceString</methodname>
 <methodparam><type>String</type><parameter>replace</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>String</type>
 <methodname>getReplaceString</methodname>
 <void/>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><void/>
 <methodname>setIgnoreCase</methodname>
 <methodparam><type>boolean</type><parameter>ignoreCase</parameter></methodparam>
</methodsynopsis>
</listitem>


<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>boolean</type>
 <methodname>getIgnoreCase</methodname>
 <void/>
</methodsynopsis>
</listitem>


<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><void/>
 <methodname>setRegexp</methodname>
 <methodparam><type>boolean</type><parameter>regexp</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>boolean</type>
 <methodname>getRegexp</methodname>
 <void/>
</methodsynopsis>
<para>
    Determines whether the search term is interpreted as a regular expression.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><void/>
 <methodname>setReverseSearch</methodname>
 <methodparam><type>boolean</type><parameter>reverse</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>boolean</type>
 <methodname>getReverseSearch</methodname>
 <void/>
</methodsynopsis>
<para>
    Determines whether a reverse search will conducted from the current
    position to the beginning of a buffer.  Currently, only literal
    reverse searches are supported.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><void/>
 <methodname>setBeanShellReplace</methodname>
 <methodparam><type>boolean</type><parameter>beanshell</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>boolean</type>
 <methodname>getBeanShellReplace</methodname>
 <void/>
</methodsynopsis>
<para>
    Determines whether the replace string will be interpreted as a
    BeanShell expression.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><void/>
 <methodname>setAutoWrapAround</methodname>
 <methodparam><type>boolean</type><parameter>wrap</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>boolean</type>
 <methodname>getAutoWrapAround</methodname>
 <void/>
</methodsynopsis>
<para>
    Determines whether a search will automatically <quote>wrap</quote>
    to the beginning of a buffer after the search reaches the buffer's end.
    If this flag is set to <constant>false</constant>, a dialog will
    request confirmation of a wrap-around search.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><void/>
 <methodname>setSearchFileSet</methodname>
 <methodparam><type>SearchFileSet</type><parameter>fileset</parameter></methodparam>
</methodsynopsis>
<para>
    A <classname>SearchFileSet</classname> is an abstract class representing the
    set of files that are the subject of a search. There are four classes derived
    from <classname>SearchFileSet</classname>:
</para>

<bridgehead renderas="sect2">DirectoryListSet</bridgehead>

<para>
    This represents a set of files taken from a directory.  It can be extended recursively
    to include files in subdirectories.  The constructor for this class has the
    following syntax:
</para>

<itemizedlist>
<listitem>
<methodsynopsis>
 <type>public</type>
 <methodname>DirectoryListSet</methodname>
 <methodparam><type>String</type><parameter>directory</parameter></methodparam>
 <methodparam><type>String</type><parameter>glob</parameter></methodparam>
 <methodparam><type>boolean</type><parameter>recurse</parameter></methodparam>
</methodsynopsis>
<para>
    The parameter <parameter>glob</parameter> is the glob pattern
    that determines which files from the
    directory will be selected (see <xref linkend="globs"/> for
    information about glob patterns),
    and <parameter>recurse</parameter> determines whether the
    selection will recurse into subdirectories.
</para>
</listitem>
</itemizedlist>

<bridgehead renderas="sect2">class AllBufferSet</bridgehead>

<para>
    This class represents the set of all buffers currently open.  The constructor
    for this class takes a file mask as a single parameter:
</para>

<itemizedlist>
<listitem>
<methodsynopsis>
 <type>public</type>
 <methodname>AllBufferSet</methodname>
 <methodparam><type>String</type><parameter>glob</parameter></methodparam>
</methodsynopsis>
</listitem>
</itemizedlist>

<bridgehead renderas="sect2">class CurrentBufferSet</bridgehead>

<para>
    This class represents a buffer set consisting of the current buffer only.
    The constructor has no parameters.
</para>

<itemizedlist mark="disc">
<listitem>
<methodsynopsis>
 <type>public</type>
 <methodname>CurrentBufferSet</methodname>
 <void/>
</methodsynopsis>
</listitem>
</itemizedlist>

<para>
<emphasis>class BufferListSet</emphasis>
</para>

<para>
    This class represents a buffer set containing an arbitrary set
    of files specified by the user.  The constructor takes a
    single <classname>Vector</classname> parameter containing the
    path names of the files to be searched.
</para>

<itemizedlist mark="disc">
<listitem>
<methodsynopsis>
 <type>public</type>
 <methodname>BufferListSet</methodname>
 <methodparam><type>Vector</type><parameter>files</parameter></methodparam>
</methodsynopsis>
</listitem>
</itemizedlist>

</listitem>

</itemizedlist>

<para>
    The actual tasks of searching and replacing, based on these parameters,
    are performed by the following methods. The return value of each indicates
    whether the operation succeeded.
</para>

<itemizedlist>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>boolean</type>
 <methodname>find</methodname>
 <methodparam><type>View</type><parameter>view</parameter></methodparam>
</methodsynopsis>
<para>
    This will select the next instance of matching text if the search
    is successful.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>boolean</type>
 <methodname>replace</methodname>
 <methodparam><type>View</type><parameter>view</parameter></methodparam>
</methodsynopsis>
<para>
    This will replace the each occurrence of the <quote>search string</quote>
    in selected text with the <quote>replace string</quote>.  If no text is selected,
    the method has no effect.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>boolean</type>
 <methodname>replace</methodname>
 <methodparam><type>View</type><parameter>view</parameter></methodparam>
 <methodparam><type>Buffer</type><parameter>buffer</parameter></methodparam>
 <methodparam><type>int</type><parameter>start</parameter></methodparam>
 <methodparam><type>int</type><parameter>end</parameter></methodparam>
</methodsynopsis>
<para>
    This will replace the each occurrence of the <quote>search string</quote>
    in the specified range with the <quote>replace string</quote>.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>boolean</type>
 <methodname>replaceAll</methodname>
 <methodparam><type>View</type><parameter>view</parameter></methodparam>
</methodsynopsis>
<para>
    This method performs a replacement in all buffers in the
    <classname>SearchFileSet</classname>. Text selection is ignored.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>boolean</type>
 <methodname>hyperSearch</methodname>
 <methodparam><type>View</type><parameter>view</parameter></methodparam>
</methodsynopsis>
<para>
    This collects all instances of matching text in the members of the
    <classname>SearchFileSet</classname> and displays them in a dedicated window.
    Text selection is ignored.
</para>
</listitem>


</itemizedlist>

<para>
    The <quote>HyperSearch</quote> and <quote>Keep dialog</quote> features, as reflected in
    checkbox options in the search dialog, are not handled from within
    <classname>SearchAndReplace</classname>. If you wish to have these options set
    before the search dialog appears, make a prior call to either or both of the
    following:
</para>

<programlisting>jEdit.setBooleanProperty(<quote>search.hypersearch.toggle</quote>,true);
jEdit.setBooleanProperty(<quote>search.keepDialog.toggle</quote>,true);</programlisting>

<para>
    If you are not using the dialog to undertake a search or replace, you may call
    any of the search and replace methods (including <function>hyperSearch()</function>)
    without concern for the value of these properties.
</para>

<para>
  To create and display the search and replace
  dialog, first assign desired values to the search settings using the methods
  described above.  Then create a new <classname>SearchDialog</classname> object
  using the following static method in the <classname>SearchDialog</classname>
  class:
</para>

<itemizedlist>
  <listitem>
    <methodsynopsis>
      <modifier>public</modifier><modifier>static</modifier><void/>
      <methodname>showSearchDialog</methodname>
      <methodparam><type>View</type><parameter>view</parameter></methodparam>
      <methodparam><type>String</type><parameter>searchString</parameter></methodparam>
      <methodparam><type>int</type><parameter>searchIn</parameter></methodparam>
    </methodsynopsis>
  </listitem>
</itemizedlist>

<para>
  The parameter <parameter>searchIn</parameter> can take the defined
  constant values <constant>CURRENT_BUFFER</constant>,
  <constant>ALL_BUFFERS</constant> or <constant>DIRECTORY</constant>,
  defined in the <classname>SearchDialog</classname> class.
  This parameter determines which file set radio button to preselect
  in the dialog box.
</para>

</sect1>


<sect1 id="class-guiutilities"><title>Class GUIUtilities</title>

<para>
    The methods dealing with creating menus and menu items are described
    in <xref linkend="plugin-implement-menu" />.
    One other <classname>static</classname> method in this class encapsulates the
    creation and display of jEdit's custom file chooser dialog box.
</para>

<itemizedlist>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>String[]</type>
 <methodname>showVFSFileDialog</methodname>
 <methodparam><type>View</type><parameter>view</parameter></methodparam>
 <methodparam><type>String</type><parameter>path</parameter></methodparam>
 <methodparam><type>int</type><parameter>type</parameter></methodparam>
 <methodparam><type>boolean</type><parameter>multipleSelection</parameter></methodparam>
</methodsynopsis>
<para>
    This method displays the <!-- enhanced, more versatile -->
    <classname>VFSFileChooserDialog</classname> provided by jEdit.  <!-- In this case, -->
    If <parameter>path</parameter> is set to <constant>null</constant>, the dialog
    will display the directory of the current buffer. The
    <parameter>type</parameter> parameter can either be
    <constant>JFileChooser.OPEN_DIALOG</constant>
    or <constant>JFileChooser.SAVE_DIALOG</constant> (you might need to
    import the <classname>JFileChooser</classname> class from the
    <literal>javax.swing</literal> package). The final parameter
    determines whether multiple selection of files is permitted.
</para>
</listitem>

</itemizedlist>

</sect1>

<sect1 id="class-textutilities"><title>Class TextUtilities</title>

<para>
    This class contains a number of <classname>static</classname> methods
    that can be helpful in handling buffer text.
</para>

<itemizedlist>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>int</type>
 <methodname>findMatchingBracket</methodname>
 <methodparam><type>Buffer</type><parameter>buffer</parameter></methodparam>
 <methodparam><type>int</type><parameter>line</parameter></methodparam>
 <methodparam><type>int</type><parameter>offset</parameter></methodparam>
</methodsynopsis>
<para>
    Returns the offset of the bracket matching the one at offset
    <parameter>offset</parameter> of line <parameter>line</parameter> of the buffer;
    returns -1 if the bracket is unmatched or if the specified
    character is not a bracket.  The method throws a
    <classname>BadLocationException</classname> if the <parameter>line</parameter>
    or <parameter>offset</parameter> parameters are out of range.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>int</type>
 <methodname>findWordStart</methodname>
 <methodparam><type>String</type><parameter>line</parameter></methodparam>
 <methodparam><type>int</type><parameter>pos</parameter></methodparam>
 <methodparam><type>String</type><parameter>noWordSep</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>int</type>
 <methodname>findWordEnd</methodname>
 <methodparam><type>String</type><parameter>line</parameter></methodparam>
 <methodparam><type>int</type><parameter>pos</parameter></methodparam>
 <methodparam><type>String</type><parameter>noWordSep</parameter></methodparam>
</methodsynopsis>
<para>
    Returns the position on which the word found on line
    <parameter>line</parameter>, position <parameter>line</parameter> begins or ends.
    The parameter <parameter>noWordSep</parameter> contains those non-alphanumeric
    characters that will be treated as part of a word for purposes of
    finding the beginning or end of word (such as an underscore
    character).
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>String</type>
 <methodname>format</methodname>
 <methodparam><type>String</type><parameter>text</parameter></methodparam>
 <methodparam><type>int</type><parameter>maxLineLength</parameter></methodparam>
</methodsynopsis>
<para>
    Reformats a string and inserts line separators as necessary so
    that no line exceeds <parameter>maxLineLength</parameter> in length.
</para>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>String</type>
 <methodname>spacesToTabs</methodname>
 <methodparam><type>String</type><parameter>in</parameter></methodparam>
 <methodparam><type>int</type><parameter>tabSize</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>String</type>
 <methodname>tabsToSpaces</methodname>
 <methodparam><type>String</type><parameter>in</parameter></methodparam>
 <methodparam><type>int</type><parameter>tabSize</parameter></methodparam>
</methodsynopsis>
<para>
    Makes the indicated change based upon a tab size of
    <parameter>tabSize</parameter>.
</para>
</listitem>

</itemizedlist>

</sect1>

<sect1 id="class-miscutilities"><title>Class MiscUtilities</title>

<para>
This class is another collection of <classname>static</classname> utility methods.
</para>

<para>
    These methods extract various elements from a path name:
</para>

<itemizedlist>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>String</type>
 <methodname>getFileName</methodname>
 <methodparam><type>String</type><parameter>path</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>String</type>
 <methodname>getFileExtension</methodname>
 <methodparam><type>String</type><parameter>name</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>String</type>
 <methodname>getParentOfPath</methodname>
 <methodparam><type>String</type><parameter>path</parameter></methodparam>
</methodsynopsis>
<para>
    Returns the directory containing the specified local file.
</para>
</listitem>

</itemizedlist>

<para>
    The following method creates a string of whitespace characters that uses as
    many tabs as possible:
</para>

<itemizedlist>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><type>String</type>
 <methodname>createWhiteSpace</methodname>
 <methodparam><type>int</type><parameter>len</parameter></methodparam>
 <methodparam><type>int</type><parameter>tabSize</parameter></methodparam>
</methodsynopsis>
<para>
    If <parameter>tabSize</parameter> is set to zero, the string will consist entirely
    of space characters.  To get a whitespace string tuned to the current buffer's
    settings, call this method as follows:</para>
<informalexample>
<programlisting>myWhitespace = MiscUtilities.createWhiteSpace(myLength,
    buffer.getTabSize());</programlisting></informalexample>

</listitem>
</itemizedlist>

<para>
    Here are two sorting methods, one for simple arrays and one for
    Java <classname>Vector</classname> objects:
</para>

<itemizedlist>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><void/>
 <methodname>quicksort</methodname>
 <methodparam><type>Compare</type><parameter>compare</parameter></methodparam>
</methodsynopsis>
</listitem>

<listitem>
<methodsynopsis>
 <modifier>public</modifier><modifier>static</modifier><void/>
 <methodname>quicksort</methodname>
 <methodparam><type>Vector</type><parameter>vector</parameter></methodparam>
 <methodparam><type>Compare</type><parameter>compare</parameter></methodparam>
</methodsynopsis>
</listitem>

</itemizedlist>

<para>
    The type of the second parameter in both methods is a Java
    <glossterm>interface</glossterm> defined inside the
    <classname>MiscUtilities</classname> class. Any Java class implementing
    an interface must implement each of the methods set forth
    in the interface's abstract specification.  The <classname>Compare</classname>
    interface consists of a single method:
</para>

<itemizedlist>
<listitem>
<methodsynopsis>
 <modifier>public</modifier><type>int</type>
 <methodname>compare</methodname>
 <methodparam><type>Object</type><parameter>obj1</parameter></methodparam>
 <methodparam><type>Object</type><parameter>obj2</parameter></methodparam>
</methodsynopsis>
</listitem>
</itemizedlist>

<para>
    To work correctly with the <function>quicksort</function> algorithm, this method
    should return a negative value if <parameter>obj1</parameter> is ordered prior to
    <parameter>obj2</parameter>, a positive value if <parameter>obj2</parameter>
    is prior, and zero if the two objects are equivalent for ordering purposes.
</para>

<para>
    When writing macros, keep in mind that
    under Java versions earlier than 1.3, BeanShell cannot implement
    arbitrary interfaces
    such as <classname>Compare</classname> (although, as we have noted
    in <xref linkend="macro-tips-BeanShell-interface" />,
    a BeanShell method can
    implement a number of specific listener interfaces).  Fortunately,
    jEdit provides a number of classes implementing <classname>Compare</classname>
    for sorting purposes. Among them are <classname>StringCompare</classname> and
    <classname>StringICaseCompare</classname>. Both classes compare
    <classname>String</classname>
    object; the latter class compares two strings on a case-insentive basis.
</para>

<para>
    Calling <function>quicksort</function> on a <classname>Vector</classname> of
    <classname>String</classname> objects could therefore take the following form:
</para>
<informalexample><programlisting>MiscUtilities.quicksort(myVectorOfStrings,
    new StringICaseCompare());</programlisting></informalexample>
<para>
    There is no return value, but the <classname>Vector</classname> provided
    as the first parameter will be now be sorted on a case-insensitive basis.
</para>

</sect1>


<sect1 id="class-beanshell"><title>Class BeanShell</title>

<para>
    This class integrates the BeanShell interpreter into jEdit.  One method is
    worth mentioning here because it can be used in a macro to chain together
    execution of several macros:
</para>

<itemizedlist>
<listitem>
<methodsynopsis>
<modifier>public</modifier><modifier>static</modifier><void/>
<methodname>runScript</methodname>
<methodparam><type>View</type><parameter>view</parameter></methodparam>
<methodparam><type>String</type><parameter>path</parameter></methodparam>
<methodparam><type>boolean</type><parameter>ownNamespace</parameter></methodparam>
<methodparam><type>boolean</type><parameter>rethrowBshErrors</parameter></methodparam>
</methodsynopsis>
</listitem>
</itemizedlist>

<para>
    This method runs the script file identified by <parameter>path</parameter>.  Within
    that script, references to <parameter>buffer</parameter>, <parameter>textArea</parameter>
    and <parameter>editPane</parameter> are
    determined with reference to the <parameter>view</parameter> parameter.  If
    <parameter>rethrowBshErrors</parameter> is set to true, any runtime exception thrown
    by the child script will be rethrown to the parent script for
    additional handling.
</para>

<para>
    The parameter <parameter>ownNamespace</parameter>
    determines whether a separate namespace will be established for the
    BeanShell interpreter. If set to <constant>false</constant>, methods and
    variables defined in the script will be available to all future
    uses of BeanShell; if set to <constant>true</constant>, they will be lost as
    soon as the script finishes executing. jEdit uses a value of
    <constant>false</constant> when running startup scripts, and a value of
    <constant>true</constant> when running all other macros.
</para>

</sect1>

</chapter>


